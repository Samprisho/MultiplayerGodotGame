[gd_resource type="VisualShader" load_steps=20 format=3 uid="uid://c7w0qn2c6k0dr"]

[sub_resource type="VisualShaderNodeColorParameter" id="VisualShaderNodeColorParameter_ke12f"]
parameter_name = "Albedo"
default_value_enabled = true

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_06cu1"]
default_input_values = [0, 0.0, 1, 1.0]
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_46x1o"]
input_name = "light"

[sub_resource type="VisualShaderNodeStep" id="VisualShaderNodeStep_wkkvy"]
default_input_values = [0, 0.99, 1, 0.0]

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_vjn21"]
default_input_values = [0, 0.0, 1, 0.33]
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_06cu1"]
input_name = "light_color"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_fq6qa"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(255, 255, 255)]
operator = 3

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_ashqe"]

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_wkkvy"]
constant = 4.0

[sub_resource type="VisualShaderNodeClamp" id="VisualShaderNodeClamp_rdg8i"]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_de3qe"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(255, 255, 255)]
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_fq6qa"]
input_name = "diffuse"

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_de3qe"]
input_name = "specular"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_6plov"]

[sub_resource type="VisualShaderNodeColorOp" id="VisualShaderNodeColorOp_ke12f"]
operator = 3

[sub_resource type="VisualShaderNodeStep" id="VisualShaderNodeStep_ke12f"]
default_input_values = [0, 0.52, 1, 0.0]

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_ashqe"]
input_name = "normal"

[sub_resource type="VisualShaderNodeDotProduct" id="VisualShaderNodeDotProduct_wkkvy"]

[sub_resource type="VisualShaderNodeClamp" id="VisualShaderNodeClamp_ht51o"]

[resource]
code = "shader_type spatial;
render_mode blend_mix, depth_draw_opaque, cull_back, diffuse_lambert, specular_schlick_ggx;

uniform vec4 Albedo : source_color = vec4(1.000000, 1.000000, 1.000000, 1.000000);



void fragment() {
// ColorParameter:2
	vec4 n_out2p0 = Albedo;


// Output:0
	ALBEDO = vec3(n_out2p0.xyz);


}

void light() {
// Input:28
	vec3 n_out28p0 = DIFFUSE_LIGHT;


// Input:2
	vec3 n_out2p0 = LIGHT;


// Input:4
	vec3 n_out4p0 = NORMAL;


// DotProduct:5
	float n_out5p0 = dot(n_out2p0, n_out4p0);


// Clamp:6
	float n_in6p1 = 0.00000;
	float n_in6p2 = 1.00000;
	float n_out6p0 = clamp(n_out5p0, n_in6p1, n_in6p2);


// Step:35
	float n_in35p0 = 0.52000;
	float n_out35p0 = step(n_in35p0, n_out6p0);


// FloatOp:10
	float n_in10p1 = 1.00000;
	float n_out10p0 = n_out35p0 * n_in10p1;


// Clamp:26
	float n_in26p1 = 0.00000;
	float n_in26p2 = 1.00000;
	float n_out26p0 = clamp(n_out10p0, n_in26p1, n_in26p2);


// Input:22
	vec3 n_out22p0 = LIGHT_COLOR;


// FloatConstant:25
	float n_out25p0 = 4.000000;


// VectorCompose:24
	vec3 n_out24p0 = vec3(n_out25p0, n_out25p0, n_out25p0);


// VectorOp:23
	vec3 n_out23p0 = n_out22p0 / n_out24p0;


// VectorOp:27
	vec3 n_out27p0 = vec3(n_out26p0) * n_out23p0;


// ColorOp:34
	vec3 n_out34p0 = max(n_out28p0, n_out27p0);


// Input:30
	vec3 n_out30p0 = SPECULAR_LIGHT;


// Step:20
	float n_in20p0 = 0.99000;
	float n_out20p0 = step(n_in20p0, n_out6p0);


// FloatOp:21
	float n_in21p1 = 0.33000;
	float n_out21p0 = n_out20p0 * n_in21p1;


// VectorOp:31
	vec3 n_out31p0 = n_out30p0 + vec3(n_out21p0);


// Output:0
	DIFFUSE_LIGHT = n_out34p0;
	SPECULAR_LIGHT = n_out31p0;


}
"
nodes/vertex/0/position = Vector2(660, 220)
nodes/fragment/2/node = SubResource("VisualShaderNodeColorParameter_ke12f")
nodes/fragment/2/position = Vector2(0, 160)
nodes/fragment/connections = PackedInt32Array(2, 0, 0, 0)
nodes/light/0/position = Vector2(1940, -240)
nodes/light/2/node = SubResource("VisualShaderNodeInput_46x1o")
nodes/light/2/position = Vector2(-1300, -20)
nodes/light/4/node = SubResource("VisualShaderNodeInput_ashqe")
nodes/light/4/position = Vector2(-1320, 160)
nodes/light/5/node = SubResource("VisualShaderNodeDotProduct_wkkvy")
nodes/light/5/position = Vector2(-960, 20)
nodes/light/6/node = SubResource("VisualShaderNodeClamp_ht51o")
nodes/light/6/position = Vector2(-740, 20)
nodes/light/10/node = SubResource("VisualShaderNodeFloatOp_06cu1")
nodes/light/10/position = Vector2(-100, 100)
nodes/light/20/node = SubResource("VisualShaderNodeStep_wkkvy")
nodes/light/20/position = Vector2(-440, -200)
nodes/light/21/node = SubResource("VisualShaderNodeFloatOp_vjn21")
nodes/light/21/position = Vector2(540, -200)
nodes/light/22/node = SubResource("VisualShaderNodeInput_06cu1")
nodes/light/22/position = Vector2(620, 340)
nodes/light/23/node = SubResource("VisualShaderNodeVectorOp_fq6qa")
nodes/light/23/position = Vector2(980, 220)
nodes/light/24/node = SubResource("VisualShaderNodeVectorCompose_ashqe")
nodes/light/24/position = Vector2(740, 480)
nodes/light/25/node = SubResource("VisualShaderNodeFloatConstant_wkkvy")
nodes/light/25/position = Vector2(480, 540)
nodes/light/26/node = SubResource("VisualShaderNodeClamp_rdg8i")
nodes/light/26/position = Vector2(540, 120)
nodes/light/27/node = SubResource("VisualShaderNodeVectorOp_de3qe")
nodes/light/27/position = Vector2(1140, -40)
nodes/light/28/node = SubResource("VisualShaderNodeInput_fq6qa")
nodes/light/28/position = Vector2(1280, -100)
nodes/light/30/node = SubResource("VisualShaderNodeInput_de3qe")
nodes/light/30/position = Vector2(460, -320)
nodes/light/31/node = SubResource("VisualShaderNodeVectorOp_6plov")
nodes/light/31/position = Vector2(800, -260)
nodes/light/34/node = SubResource("VisualShaderNodeColorOp_ke12f")
nodes/light/34/position = Vector2(1560, -20)
nodes/light/35/node = SubResource("VisualShaderNodeStep_ke12f")
nodes/light/35/position = Vector2(-440, 100)
nodes/light/connections = PackedInt32Array(5, 0, 6, 0, 6, 0, 20, 1, 20, 0, 21, 0, 22, 0, 23, 0, 24, 0, 23, 1, 25, 0, 24, 0, 25, 0, 24, 1, 25, 0, 24, 2, 26, 0, 27, 0, 23, 0, 27, 1, 30, 0, 31, 0, 21, 0, 31, 1, 31, 0, 0, 1, 28, 0, 34, 0, 27, 0, 34, 1, 34, 0, 0, 0, 10, 0, 26, 0, 2, 0, 5, 0, 4, 0, 5, 1, 6, 0, 35, 1, 35, 0, 10, 0)
